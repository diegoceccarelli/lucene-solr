import org.apache.lucene.gradle.CheckWorkingCopy 
import org.apache.lucene.gradle.BuildPlugin


allprojects {
    repositories {
    	mavenCentral()
        jcenter() 
    }

    apply plugin: 'java'
    compileJava.options.encoding = 'UTF-8'

}



subprojects {
	pj ->
		plugins.withType(JavaPlugin) {
			test {
				systemProperty 'java.security.egd', 'file:/dev/./urandom'
			}

			pj.plugins.apply(BuildPlugin)
		}
		tasks.withType(Test) {
			maxParallelForks = Runtime.runtime.availableProcessors() / 2
		}
}

tasks.create('checkWorkingCopy', CheckWorkingCopy, true)

// These versions are defined here because they represent
// a dependency version which should match across multiple
// Maven artifacts.
def randomizedtesting_version = '2.6.4'
def jackson_version = '2.9.6'
def rometools_version = '1.5.1'
def jersey_version = '1.9'
def metrics_version = '3.2.6'
def prometheus_version = '0.2.0'
def calcite_version = '1.13.0'
def curator_version = '2.8.0'
def apacheds_server_version = '2.0.0-M15'
def hadoop_version = '3.2.0'
def mime4j_version = '0.8.2'
def log4j_version = '2.11.0'
def pdfbox_version = '2.0.12'
def poi_version = '4.0.0'
def tika_version = '1.19.1'
def bouncycastle_version = '1.60'
def morfologik_version = '2.1.5'
def codehaus_jackson_version = '1.9.13'
def jetty_version = '9.4.14.v20181114'
def vorbis_java_version = '0.8'
def mortbay_jetty_version = '6.1.26'
def slf4j_version = '1.7.24'
def asm_version = '5.1'
def org_restlet_version = '2.3.0'
def velocity_core_version = '2.0'
def velocity_tools_version = '3.0'

ext.library = [
	antlr: "antlr:antlr:2.7.7",
	xmpcore: "com.adobe.xmp:xmpcore:5.1.3",

	randomizedtesting_junit4: "com.carrotsearch.randomizedtesting:junit4-ant:$randomizedtesting_version",
	randomizedtesting_runner: "com.carrotsearch.randomizedtesting:randomizedtesting-runner:$randomizedtesting_version",

	hppc: "com.carrotsearch:hppc:0.8.1",
	langdetect: "com.cybozu.labs:langdetect:1.1-20120112",
	metadata_extractor: "com.drewnoakes:metadata-extractor:2.11.0",
	parso: "com.epam:parso:2.0.9",

	jackson_annotations: "com.fasterxml.jackson.core:jackson-annotations:$jackson_version",
	jackson_core: "com.fasterxml.jackson.core:jackson-core:$jackson_version",
	jackson_databind: "com.fasterxml.jackson.core:jackson-databind:$jackson_version",
	jackson_dataformat_smile: "com.fasterxml.jackson.dataformat:jackson-dataformat-smile:$jackson_version",

	caffeine: "com.github.ben-manes.caffeine:caffeine:2.4.0",
	curvesapi: "com.github.virtuald:curvesapi:1.04",
	guava: "com.google.guava:guava:25.1-jre",
	protobuf_java: "com.google.protobuf:protobuf-java:3.1.0",
	juniversalchardet: "com.googlecode.juniversalchardet:juniversalchardet:1.0.3",
	isoparser: "com.googlecode.mp4parser:isoparser:1.1.22",
	jackcess: "com.healthmarketscience.jackcess:jackcess:2.1.12",
	jackcess_encrypt: "com.healthmarketscience.jackcess:jackcess-encrypt:2.1.4",
	icu4j: "com.ibm.icu:icu4j:62.1",
	disruptor: "com.lmax:disruptor:3.4.0",
	java_libpst: "com.pff:java-libpst:0.8.1",

	rome: "com.rometools:rome:$rometools_version",
	rome_utils: "com.rometools:rome-utils:$rometools_version",

	jersey_core: "com.sun.jersey:jersey-core:$jersey_version",
	jersey_server: "com.sun.jersey:jersey-server:$jersey_version",

	gimap: "com.sun.mail:gimap:1.5.1",
	javax_mail: "com.sun.mail:javax.mail:1.5.1",
	t_digest: "com.tdunning:t-digest:3.1",
	android_json: "com.vaadin.external.google:android-json:0.0.20131108.vaadin1",
	commons_cli: "commons-cli:commons-cli:1.2",
	commons_codec: "commons-codec:commons-codec:1.11",
	commons_collections: "commons-collections:commons-collections:3.2.2",
	commons_configuration: "commons-configuration:commons-configuration:1.6",
	commons_fileupload: "commons-fileupload:commons-fileupload:1.3.3",
	commons_io: "commons-io:commons-io:2.5",
	commons_lang: "commons-lang:commons-lang:2.6",
	commons_logging: "commons-logging:commons-logging:1.1.3",
	boilerpipe: "de.l3s.boilerpipe:boilerpipe:1.1.0",
	dom4j: "dom4j:dom4j:1.6.1",
	gmetric4j: "info.ganglia.gmetric4j:gmetric4j:1.0.7",

	metrics_core: "io.dropwizard.metrics:metrics-core:$metrics_version",
	metrics_ganglia: "io.dropwizard.metrics:metrics-ganglia:$metrics_version",
	metrics_graphite: "io.dropwizard.metrics:metrics-graphite:$metrics_version",
	metrics_jetty9: "io.dropwizard.metrics:metrics-jetty9:$metrics_version",
	metrics_jvm: "io.dropwizard.metrics:metrics-jvm:$metrics_version",

	netty_all: "io.netty:netty-all:4.0.36.Final",

	simpleclient: "io.prometheus:simpleclient:$prometheus_version",
	simpleclient_common: "io.prometheus:simpleclient_common:$prometheus_version",
	simpleclient_httpserver: "io.prometheus:simpleclient_httpserver:$prometheus_version",

	s2_geometry_library_java: "io.sgr:s2-geometry-library-java:1.0.0",
	activation: "javax.activation:activation:1.1.1",
	javax_servlet_api: "javax.servlet:javax.servlet-api:3.1.0",
	junit: "junit:junit:4.10",
	mecab_ipadic: "mecab:mecab-ipadic:2.7.0-20070801",
	mecab_ko_dic: "mecab:mecab-ko-dic:2.0.3-20170922",
	mecab_naist_jdic: "mecab:mecab-naist-jdic:0.6.3b-20111013",
	jsonic: "net.arnx:jsonic:1.2.7",
	byte_buddy: "net.bytebuddy:byte-buddy:1.6.2",
	eigenbase_properties: "net.hydromatic:eigenbase-properties:1.1.5",
	ehcache_core: "net.sf.ehcache:ehcache-core:2.4.4",

	argparse4j: "net.sourceforge.argparse4j:argparse4j:0.8.1",
	nekohtml: "net.sourceforge.nekohtml:nekohtml:1.9.17",
	jackson_jq: "net.thisptr:jackson-jq:0.0.8",
	antlr4_runtime: "org.antlr:antlr4-runtime:4.5.1-1",
	ant: "org.apache.ant:ant:1.8.2",
	avatica_core: "org.apache.calcite.avatica:avatica-core:1.10.0",

	calcite_core: "org.apache.calcite:calcite-core:$calcite_version",
	calcite_linq4j: "org.apache.calcite:calcite-linq4j:$calcite_version",

	commons_collections4: "org.apache.commons:commons-collections4:4.2",
	commons_compress: "org.apache.commons:commons-compress:1.18",
	commons_exec: "org.apache.commons:commons-exec:1.3",
	commons_lang3: "org.apache.commons:commons-lang3:3.8.1",
	commons_math3: "org.apache.commons:commons-math3:3.6.1",
    commons_text: "org.apache.commons:commons-text:1.6",

	curator_client: "org.apache.curator:curator-client:$curator_version",
	curator_framework: "org.apache.curator:curator-framework:$curator_version",
	curator_recipes: "org.apache.curator:curator-recipes:$curator_version",

	derby: "org.apache.derby:derby:10.9.1.0",
	api_all: "org.apache.directory.api:api-all:1.0.0-M20",
	apacheds_jdbm1: "org.apache.directory.jdbm:apacheds-jdbm1:2.0.0-M2",

	apacheds_core: "org.apache.directory.server:apacheds-core:$apacheds_server_version",
	apacheds_core_api: "org.apache.directory.server:apacheds-core-api:$apacheds_server_version",
	apacheds_core_avl: "org.apache.directory.server:apacheds-core-avl:$apacheds_server_version",
	apacheds_core_shared: "org.apache.directory.server:apacheds-core-shared:$apacheds_server_version",
	apacheds_i18n: "org.apache.directory.server:apacheds-i18n:$apacheds_server_version",
	apacheds_interceptor_kerberos: "org.apache.directory.server:apacheds-interceptor-kerberos:$apacheds_server_version",
	apacheds_interceptors_admin: "org.apache.directory.server:apacheds-interceptors-admin:$apacheds_server_version",
	apacheds_interceptors_authn: "org.apache.directory.server:apacheds-interceptors-authn:$apacheds_server_version",
	apacheds_interceptors_authz: "org.apache.directory.server:apacheds-interceptors-authz:$apacheds_server_version",
	apacheds_interceptors_changelog: "org.apache.directory.server:apacheds-interceptors-changelog:$apacheds_server_version",
	apacheds_interceptors_collective: "org.apache.directory.server:apacheds-interceptors-collective:$apacheds_server_version",
	apacheds_interceptors_event: "org.apache.directory.server:apacheds-interceptors-event:$apacheds_server_version",
	apacheds_interceptors_exception: "org.apache.directory.server:apacheds-interceptors-exception:$apacheds_server_version",
	apacheds_interceptors_journal: "org.apache.directory.server:apacheds-interceptors-journal:$apacheds_server_version",
	apacheds_interceptors_normalization: "org.apache.directory.server:apacheds-interceptors-normalization:$apacheds_server_version",
	apacheds_interceptors_operational: "org.apache.directory.server:apacheds-interceptors-operational:$apacheds_server_version",
	apacheds_interceptors_referral: "org.apache.directory.server:apacheds-interceptors-referral:$apacheds_server_version",
	apacheds_interceptors_schema: "org.apache.directory.server:apacheds-interceptors-schema:$apacheds_server_version",
	apacheds_interceptors_subtree: "org.apache.directory.server:apacheds-interceptors-subtree:$apacheds_server_version",
	apacheds_interceptors_trigger: "org.apache.directory.server:apacheds-interceptors-trigger:$apacheds_server_version",
	apacheds_jdbm_partition: "org.apache.directory.server:apacheds-jdbm-partition:$apacheds_server_version",
	apacheds_kerberos_codec: "org.apache.directory.server:apacheds-kerberos-codec:$apacheds_server_version",
	apacheds_ldif_partition: "org.apache.directory.server:apacheds-ldif-partition:$apacheds_server_version",
	apacheds_mavibot_partition: "org.apache.directory.server:apacheds-mavibot-partition:$apacheds_server_version",
	apacheds_protocol_kerberos: "org.apache.directory.server:apacheds-protocol-kerberos:$apacheds_server_version",
	apacheds_protocol_ldap: "org.apache.directory.server:apacheds-protocol-ldap:$apacheds_server_version",
	apacheds_protocol_shared: "org.apache.directory.server:apacheds-protocol-shared:$apacheds_server_version",
	apacheds_xdbm_partition: "org.apache.directory.server:apacheds-xdbm-partition:$apacheds_server_version",
    jose4j:"org.bitbucket.b_c:jose4j:0.6.4",

	hadoop_annotations: "org.apache.hadoop:hadoop-annotations:$hadoop_version",
	hadoop_auth: "org.apache.hadoop:hadoop-auth:$hadoop_version",
	hadoop_common: "org.apache.hadoop:hadoop-common:$hadoop_version",
	hadoop_hdfs: "org.apache.hadoop:hadoop-hdfs:$hadoop_version",
	hadoop_hdfs_client: "org.apache.hadoop:hadoop-hdfs-client:$hadoop_version",
	hadoop_minikdc: "org.apache.hadoop:hadoop-minikdc:$hadoop_version",

	htrace_core: "org.apache.htrace:htrace-core:3.2.0-incubating",
	httpclient: "org.apache.httpcomponents:httpclient:4.5.3",
	httpcore: "org.apache.httpcomponents:httpcore:4.4.6",
	httpmime: "org.apache.httpcomponents:httpmime:4.5.3",
	ivy: "org.apache.ivy:ivy:2.4.0",

	apache_mime4j_core: "org.apache.james:apache-mime4j-core:$mime4j_version",
	apache_mime4j_dom: "org.apache.james:apache-mime4j-dom:$mime4j_version",

	log4j_1_2_api: "org.apache.logging.log4j:log4j-1.2-api:$log4j_version",
	log4j_api: "org.apache.logging.log4j:log4j-api:$log4j_version",
	log4j_core: "org.apache.logging.log4j:log4j-core:$log4j_version",
	log4j_slf4j_impl: "org.apache.logging.log4j:log4j-slf4j-impl:$log4j_version",

	mina_core: "org.apache.mina:mina-core:2.0.0-M5",
	opennlp_tools: "org.apache.opennlp:opennlp-tools:1.9.0",
	fontbox: "org.apache.pdfbox:fontbox:$pdfbox_version",
	jempbox: "org.apache.pdfbox:jempbox:1.8.16",
	pdfbox: "org.apache.pdfbox:pdfbox:$pdfbox_version",
	pdfbox_tools: "org.apache.pdfbox:pdfbox-tools:$pdfbox_version",

	poi: "org.apache.poi:poi:$poi_version",
	poi_ooxml: "org.apache.poi:poi-ooxml:$poi_version",
	poi_ooxml_schemas: "org.apache.poi:poi-ooxml-schemas:$poi_version",
	poi_scratchpad: "org.apache.poi:poi-scratchpad:$poi_version",

	tika_core: "org.apache.tika:tika-core:$tika_version",
	tika_java7: "org.apache.tika:tika-java7:$tika_version",
	tika_parsers: "org.apache.tika:tika-parsers:$tika_version",
	tika_xmp: "org.apache.tika:tika-xmp:$tika_version",

	velocity_engine_core: "org.apache.velocity:velocity-engine-core:$velocity_core_version",
	velocity_tools_generic: "org.apache.velocity.tools:velocity-tools-generic:$velocity_tools_version",
	velocity_tools_view: "org.apache.velocity.tools:velocity-tools-view:$velocity_tools_version",
	velocity_tools_view_jsp: "org.apache.velocity.tools:velocity-tools-view-jsp:$velocity_tools_version",

	xmlbeans: "org.apache.xmlbeans:xmlbeans:3.0.1",
	zookeeper: "org.apache.zookeeper:zookeeper:3.4.11",
	asciidoctor_ant: "org.asciidoctor:asciidoctor-ant:1.6.0-alpha.5",
	aspectjrt: "org.aspectj:aspectjrt:1.8.0",

	bcmail_jdk15on: "org.bouncycastle:bcmail-jdk15on:$bouncycastle_version",
	bcpkix_jdk15on: "org.bouncycastle:bcpkix-jdk15on:$bouncycastle_version",
	bcprov_jdk15on: "org.bouncycastle:bcprov-jdk15on:$bouncycastle_version",

	dec: "org.brotli:dec:0.1.2",
	attributes_binder: "org.carrot2.attributes:attributes-binder:1.3.3",
	carrot2_guava: "org.carrot2.shaded:carrot2-guava:18.0",
	carrot2_mini: "org.carrot2:carrot2-mini:3.16.0",


	morfologik_fsa: "org.carrot2:morfologik-fsa:$morfologik_version",
	morfologik_polish: "org.carrot2:morfologik-polish:$morfologik_version",
	morfologik_stemming: "org.carrot2:morfologik-stemming:$morfologik_version",

	tagsoup: "org.ccil.cowan.tagsoup:tagsoup:1.2.1",

	jackson_core_asl: "org.codehaus.jackson:jackson-core-asl:$codehaus_jackson_version",
	jackson_mapper_asl: "org.codehaus.jackson:jackson-mapper-asl:$codehaus_jackson_version",
	commons_compiler: "org.codehaus.janino:commons-compiler:$codehaus_jackson_version",

	janino: "org.codehaus.janino:janino:2.7.6",
	stax2_api: "org.codehaus.woodstox:stax2-api:3.1.4",
	woodstox_core_asl: "org.codehaus.woodstox:woodstox-core-asl:4.4.1",

	jetty_continuation: "org.eclipse.jetty:jetty-continuation:$jetty_version",
	jetty_client: "org.eclipse.jetty:jetty-client:$jetty_version",
	jetty_deploy: "org.eclipse.jetty:jetty-deploy:$jetty_version",
	jetty_http: "org.eclipse.jetty:jetty-http:$jetty_version",
	jetty_http2: "org.eclipse.jetty.http2:http2-server:$jetty_version",
	jetty_io: "org.eclipse.jetty:jetty-io:$jetty_version",
	jetty_jmx: "org.eclipse.jetty:jetty-jmx:$jetty_version",
	jetty_rewrite: "org.eclipse.jetty:jetty-rewrite:$jetty_version",
	jetty_security: "org.eclipse.jetty:jetty-security:$jetty_version",
	jetty_server: "org.eclipse.jetty:jetty-server:$jetty_version",
	jetty_alpn_server: "org.eclipse.jetty:jetty-alpn-server:$jetty_version",
	jetty_servlet: "org.eclipse.jetty:jetty-servlet:$jetty_version",
	jetty_servlets: "org.eclipse.jetty:jetty-servlets:$jetty_version",
	jetty_start: "org.eclipse.jetty:jetty-start:$jetty_version",
	jetty_transport: "org.eclipse.jetty.http2:http2-http-client-transport:$jetty_version",
	jetty_util: "org.eclipse.jetty:jetty-util:$jetty_version",
	jetty_webapp: "org.eclipse.jetty:jetty-webapp:$jetty_version",
	jetty_xml: "org.eclipse.jetty:jetty-xml:$jetty_version",


	vorbis_java_core: "org.gagravarr:vorbis-java-core:$vorbis_java_version",
	vorbis_java_tika: "org.gagravarr:vorbis-java-tika:$vorbis_java_version",

	hsqldb: "org.hsqldb:hsqldb:2.4.0",
	jdom2: "org.jdom:jdom2:2.0.6",
	jsoup: "org.jsoup:jsoup:1.11.3",
	jts_core: "org.locationtech.jts:jts-core:1.15.0",
	spatial4j: "org.locationtech.spatial4j:spatial4j:0.7",
	mockito_core: "org.mockito:mockito-core:2.6.2",

	jetty: "org.mortbay.jetty:jetty:$mortbay_jetty_version",
	jetty_sslengine: "org.mortbay.jetty:jetty-sslengine:$mortbay_jetty_version",
	jetty_util: "org.mortbay.jetty:jetty-util:$mortbay_jetty_version",

	noggit: "org.noggit:noggit:0.8",
	objenesis: "org.objenesis:objenesis:2.5",

	asm: "org.ow2.asm:asm:$asm_version",
	asm_commons: "org.ow2.asm:asm-commons:$asm_version",

	org_restlet: "org.restlet.jee:org.restlet:$org_restlet_version",
	org_restlet_ext_servlet: "org.restlet.jee:org.restlet.ext.servlet:$org_restlet_version",

	rrd4j: "org.rrd4j:rrd4j:3.2",
	simple_xml: "org.simpleframework:simple-xml:2.7.1",

	jcl_over_slf4j: "org.slf4j:jcl-over-slf4j:$slf4j_version",
	jul_to_slf4j: "org.slf4j:jul-to-slf4j:$slf4j_version",
	slf4j_api: "org.slf4j:slf4j-api:$slf4j_version",
	slf4j_simple: "org.slf4j:slf4j-simple:$slf4j_version",

	jmatio: "org.tallison:jmatio:1.5",
	xz: "org.tukaani:xz:1.8",
	morfologik_ukrainian_search: "ua.net.nlp:morfologik-ukrainian-search:3.9.0",
	xercesImpl: "xerces:xercesImpl:2.9.1"
]
